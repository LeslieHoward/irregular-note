var lazyload={init:function(t,i){this.o=[];var e=false;try{this.o=Array.prototype.slice.call(i.querySelectorAll("img.lazy"))}catch(t){var s=new RegExp("\\b"+"lazy"+"\\b");var r=i.getElementsByTagName("img");for(var l=0;l<r.length;l++){if(!!r[l].getAttribute("data-src")&&s.test(r[l].className)){this.o.push(r[l])}}e=true}if(!this.o.length){return}this.rmcls="classList"in i.createElement("p");if(e){this.update(true);return}var n=t.innerHeight;n=n>50?n:500;this.startLine=n*3;this.update();this.prev=0;this.tid=null;this.scrollEvt=this.scroll.bind(this);t.addEventListener("scroll",this.scrollEvt);t.addEventListener("resize",function(){this.update()}.bind(this))},scroll:function(){var t=Date.now(),i=300;var e=i-(t-this.prev);if(e<=0||e>i){if(this.tid){clearTimeout(this.tid);this.tid=null}this.prev=t;this.update()}else if(!this.tid){this.tid=setTimeout(function(){this.prev=Date.now();this.tid=null;this.update()}.bind(this),e)}},update:function(t){if(this.o.length>0){var i=[];for(var e=0;e<this.o.length;e++){var s=this.o[e];if(t||s.getBoundingClientRect().top-this.startLine<0){i.push(e);s.src=s.getAttribute("data-src");if(this.rmcls)s.classList.remove("lazy")}else{break}}if(!t){while(i.length){this.o.splice(i.pop(),1)}}}else{if(window.removeEventListener){window.removeEventListener("scroll",this.scrollEvt)}}}};lazyload.init(window,document);